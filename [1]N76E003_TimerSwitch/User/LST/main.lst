C51 COMPILER V9.59.0.0   MAIN                                                              12/04/2018 20:46:57 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN .\Output\main.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Code\main.c OPTIMIZE(7,SPEED) REGFILE(.\Output\PWM.ORC) BROWSE INCDIR(..
                    -\Include;..\Common;..\Startup;.\Code) DEFINE(FOSC_160000) DEBUG OBJECTEXTEND PRINT(.\LST\main.lst) TABS(2) OBJECT(.\Outp
                    -ut\main.obj)

line level    source

   1          /************************************************************
   2          * 
   3          * date:2018-12-4 
   4          * author:Jack Lam
   5          * ver:0.1
   6          
   7          ***************************************************************/
   8          
   9          #include <stdio.h>
  10          #include "N76E003.h"
  11          #include "Common.h"
  12          #include "Delay.h"
  13          #include "SFR_Macro.h"
  14          #include "Function_Define.h"
  15          #include "Led.h"
  16          
  17          sbit P15 =P1^5;
  18          /*
  19          *函数名称：按键中断处理函数
  20          *
  21          */
  22          void PinInterrupt_ISR (void) interrupt 7
  23          {
  24   1        if(PIF&1<<5)
  25   1        {
  26   2          PIF &= ~(1<<5);
  27   2          Timer0_Delay1ms(20);
  28   2          if(P15!=0)                      /*防抖*/
  29   2            return;
  30   2          P12=!P12;
  31   2          P04=!P04;
  32   2        }
  33   1      }
  34          
  35          /*
  36          *函数名称：配置IO脚中断
  37          *
  38          */
  39          void IntterruptSetting()
  40          {
  41   1        P15_Quasi_Mode;
  42   1        P1|=1<<5;
  43   1        Enable_INT_Port1;
  44   1        Enable_BIT5_FallEdge_Trig;
  45   1        set_EPI;              // Enable pin interrupt
  46   1        set_EA;               // global enable bit
  47   1      }
  48          
  49          
  50          void main(void)
  51          {
  52   1        Set_All_GPIO_Quasi_Mode;
  53   1        IntterruptSetting();
C51 COMPILER V9.59.0.0   MAIN                                                              12/04/2018 20:46:57 PAGE 2   

  54   1        LED_Init();
  55   1        while(1);
  56   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    131    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
